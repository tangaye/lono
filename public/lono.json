{
	"openapi": "3.0.0",
	"info": {
		"title": "Lono SMS API",
		"description": "API to send sms and view sms that have been sent. To get a key or get support, kindly contact API Support.",
		"version": "1.0",
		"contact": {
			"name": "API Support",
			"email": "tech@kwagei.com"
		}
	},

	"servers": [
		{
			"url": "https://developer.lonotalk.com/api/v1",
			"description": "Base url"
		}
	],
	"paths": {
		"/sms": {
			"get": {
				"summary": "All sms",
				"description": "Returns sms that have been sent.",
				"operationId": "sms",
				"responses": {
					"200": {
						"description": "An array of sms",
						"headers": {},
						"content": {
							"application/json": {
								"schema": {
									"type": "object"
								},
								"example": {
									"errorCode": 0,
									"messages": [
										{
											"smsId": "1cf5cfb0-1181-4c50-8e20-d0b4bfa39ec9",
											"recipient": "0776001001",
											"message": "Hello world!",
											"extMessageId": "9629da1f-5efc-4084-a3dc-6a36102a5b6d",
											"status": "delivered",
											"date": "2021-05-30T17:50:45.911Z",
											"sender": {
												"name": "ExampleInc"
											}
										}
									]
								}
							}
						}
					},
					"403": {
						"description": "Unauthorized. Invalid API key",
						"headers": {},
						"content": {
							"application/json": {
								"schema": {
									"type": "object"
								},
								"example": {
									"errorCode": 1,
									"errorMessage": "Unauthorized!"
								}
							}
						}
					},
					"500": {
						"description": "Unexpected error",
						"headers": {},
						"content": {
							"application/json": {
								"schema": {
									"type": "object"
								},
								"example": {
									"errorCode": 1,
									"errorMessage": "An unexpected error occured."
								}
							}
						}
					}
				}
			},
			"post": {
				"summary": "Send sms",
				"description": "Makes a POST request to send sms. **senderName** must be preconfigured to work. To configured senderName please contact API Support. \n\n Returns sms sent if successful.",
				"operationId": "sendsms",
				"requestBody": {
					"description": "",

					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/sendsmsRequest"
							},
							"example": {
								"senderName": "Kwagei",

								"messages": [
									{
										"to": "0776001001",
										"body": "Hello world!",
										"extMessageId": "9629da1f-5efc-4084-a3dc-6a36102a5b6d"
									},
									{
										"to": "0886002002",
										"body": "Hello world!",
										"extMessageId": "9629da1f-5efc-4084-a3dc-6a36102a5b6d"
									}
								]
							}
						}
					},
					"required": true
				},
				"responses": {
					"200": {
						"description": "An array of sms sent",
						"headers": {},
						"content": {
							"application/json": {
								"schema": {
									"type": "object"
								},
								"example": {
									"errorCode": 0,
									"messages": [
										{
											"smsId": "1cf5cfb0-1181-4c50-8e20-d0b4bfa39ec9",
											"recipient": "0776001001",
											"message": "Hello world!",
											"extMessageId": "9629da1f-5efc-4084-a3dc-6a36102a5b6d",
											"status": "pending",
											"date": "2021-05-30T17:50:45.911Z",
											"sender": {
												"name": "ExampleInc"
											}
										}
									]
								}
							}
						}
					},
					"404": {
						"description": "senderName not found",
						"headers": {},
						"content": {
							"application/json": {
								"schema": {
									"type": "object"
								},
								"example": {
									"errorCode": 1,
									"errorMessage": "senderName: 'ExampleInc2' not configured."
								}
							}
						}
					},
					"403": {
						"description": "Unauthorized. Invalid API key",
						"headers": {},
						"content": {
							"application/json": {
								"schema": {
									"type": "object"
								},
								"example": {
									"errorCode": 1,
									"errorMessage": "Unauthorized!"
								}
							}
						}
					},
					"500": {
						"description": "Unexpected error",
						"headers": {},
						"content": {
							"application/json": {
								"schema": {
									"type": "object"
								},
								"example": {
									"errorCode": 1,
									"errorMessage": "An unexpected error occured."
								}
							}
						}
					}
				}
			}
		}
	},
	"components": {
		"schemas": {
			"sendsmsRequest": {
				"title": "sendsmsRequest",
				"required": ["senderName", "messages"],
				"type": "object",
				"properties": {
					"senderName": {
						"type": "string"
					},
					"messages": {
						"type": "array",
						"items": {
							"type": "object"
						},
						"description": ""
					}
				},
				"example": {
					"senderName": "Kwagei",
					"messages": [
						{
							"to": "0776001001",
							"body": "Hello world!",
							"extMessageId": "9629da1f-5efc-4084-a3dc-6a36102a5b6d"
						},
						{
							"to": "0886002002",
							"body": "Hello world!",
							"extMessageId": "9629da1f-5efc-4084-a3dc-6a36102a5b6d"
						}
					]
				}
			}
		},
		"securitySchemes": {
			"ApiKeyAuth": {
				"type": "apiKey",
				"in": "header",
				"name": "apiKey"
			}
		}
	},
	"security": [
		{
			"ApiKeyAuth": []
		}
	],
	"tags": []
}
